//-------------------------------------------------------------------------
// This is an auto-generated file - DO NOT edit
//-------------------------------------------------------------------------

#include "D:\Kruger\Code\Engine\Physics\_Module\_AutoGenerated\3942467760.h"

//-------------------------------------------------------------------------
// TypeHelper: KRG::Physics::PhysicsGeometryComponent
//-------------------------------------------------------------------------

namespace KRG
{
    TypeSystem::TypeInfo const* KRG::Physics::PhysicsGeometryComponent::TypeInfoPtr = nullptr;
    namespace TypeSystem
    {
        namespace TypeHelpers
        {
            void const* TTypeHelper<KRG::Physics::PhysicsGeometryComponent>::DefaultTypeInstancePtr = nullptr;

            TTypeHelper<KRG::Physics::PhysicsGeometryComponent> TTypeHelper<KRG::Physics::PhysicsGeometryComponent>::StaticTypeHelper;
        }
    }

    TypeSystem::TypeInfo const* KRG::Physics::PhysicsGeometryComponent::GetTypeInfo() const
    {
        return KRG::Physics::PhysicsGeometryComponent::TypeInfoPtr;
    }

    void KRG::Physics::PhysicsGeometryComponent::Load( EntityLoadingContext const& context, UUID requesterID )
    {
        KRG::Physics::PhysicsGeometryComponent::TypeInfoPtr->m_pTypeHelper->LoadResources( context.m_pResourceSystem, requesterID, this );
        m_status = Status::Loading;
    }

    void KRG::Physics::PhysicsGeometryComponent::Unload( EntityLoadingContext const& context, UUID requesterID )
    {
        KRG::Physics::PhysicsGeometryComponent::TypeInfoPtr->m_pTypeHelper->UnloadResources( context.m_pResourceSystem, requesterID, this );
        m_status = Status::Unloaded;
    }

    void KRG::Physics::PhysicsGeometryComponent::UpdateLoading()
    {
        if( m_status == Status::Loading )
        {
            auto const resourceLoadingStatus = KRG::Physics::PhysicsGeometryComponent::TypeInfoPtr->m_pTypeHelper->GetResourceLoadingStatus( this );
            if ( resourceLoadingStatus == LoadingStatus::Loading )
            {
                return; // Something is still loading so early-out
            }

            if ( resourceLoadingStatus == LoadingStatus::Failed )
            {
                m_status = EntityComponent::Status::LoadingFailed;
            }
            else
            {
                m_status = EntityComponent::Status::Loaded;
            }
        }
    }
}
